name: Python package

on: [push]

env:
  AWS_REGION: use-east-1                   # set this to your preferred AWS region, e.g. us-west-1
  ECR_REPOSITORY: MY_ECR_REPOSITORY           # set this to your Amazon ECR repository name
  ECS_SERVICE: MY_ECS_SERVICE                 # set this to your Amazon ECS service name
  ECS_CLUSTER: MY_ECS_CLUSTER                 # set this to your Amazon ECS cluster name
  ECS_TASK_DEFINITION: MY_ECS_TASK_DEFINITION # set this to the path to your Amazon ECS task definition
                                               # file, e.g. .aws/task-definition.json
  CONTAINER_NAME: MY_CONTAINER_NAME           # set this to the name of the container in the
                                               # containerDefinitions section of your task definition


jobs:


  build and test:

    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Setup Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.7'
        cache: 'pip'
    - name: Install dependencies
      run: |
        pwd
        ls
        pip install -r ./application/requirements.txt
    - name: Install pytest
      run: |
        pip install pytest
    - name: Testing pytest
      run: |
        # pytest tests.py we need a test file here

  deployment:

    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: